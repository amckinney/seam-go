// This file was auto-generated by Fern from our API Definition.

package api

import (
	json "encoding/json"
	fmt "fmt"
)

type AccessCodesDeleteResponseActionAttempt struct {
	Status  string
	Success *AccessCodesDeleteResponseActionAttemptSuccess
	Pending *AccessCodesDeleteResponseActionAttemptPending
	Error   *AccessCodesDeleteResponseActionAttemptError
}

func NewAccessCodesDeleteResponseActionAttemptFromSuccess(value *AccessCodesDeleteResponseActionAttemptSuccess) *AccessCodesDeleteResponseActionAttempt {
	return &AccessCodesDeleteResponseActionAttempt{Status: "success", Success: value}
}

func NewAccessCodesDeleteResponseActionAttemptFromPending(value *AccessCodesDeleteResponseActionAttemptPending) *AccessCodesDeleteResponseActionAttempt {
	return &AccessCodesDeleteResponseActionAttempt{Status: "pending", Pending: value}
}

func NewAccessCodesDeleteResponseActionAttemptFromError(value *AccessCodesDeleteResponseActionAttemptError) *AccessCodesDeleteResponseActionAttempt {
	return &AccessCodesDeleteResponseActionAttempt{Status: "error", Error: value}
}

func (a *AccessCodesDeleteResponseActionAttempt) UnmarshalJSON(data []byte) error {
	var unmarshaler struct {
		Status string `json:"status"`
	}
	if err := json.Unmarshal(data, &unmarshaler); err != nil {
		return err
	}
	a.Status = unmarshaler.Status
	switch unmarshaler.Status {
	case "success":
		value := new(AccessCodesDeleteResponseActionAttemptSuccess)
		if err := json.Unmarshal(data, &value); err != nil {
			return err
		}
		a.Success = value
	case "pending":
		value := new(AccessCodesDeleteResponseActionAttemptPending)
		if err := json.Unmarshal(data, &value); err != nil {
			return err
		}
		a.Pending = value
	case "error":
		value := new(AccessCodesDeleteResponseActionAttemptError)
		if err := json.Unmarshal(data, &value); err != nil {
			return err
		}
		a.Error = value
	}
	return nil
}

func (a AccessCodesDeleteResponseActionAttempt) MarshalJSON() ([]byte, error) {
	switch a.Status {
	default:
		return nil, fmt.Errorf("invalid type %s in %T", a.Status, a)
	case "success":
		var marshaler = struct {
			Status string `json:"status"`
			*AccessCodesDeleteResponseActionAttemptSuccess
		}{
			Status: a.Status,
			AccessCodesDeleteResponseActionAttemptSuccess: a.Success,
		}
		return json.Marshal(marshaler)
	case "pending":
		var marshaler = struct {
			Status string `json:"status"`
			*AccessCodesDeleteResponseActionAttemptPending
		}{
			Status: a.Status,
			AccessCodesDeleteResponseActionAttemptPending: a.Pending,
		}
		return json.Marshal(marshaler)
	case "error":
		var marshaler = struct {
			Status string `json:"status"`
			*AccessCodesDeleteResponseActionAttemptError
		}{
			Status: a.Status,
			AccessCodesDeleteResponseActionAttemptError: a.Error,
		}
		return json.Marshal(marshaler)
	}
}

type AccessCodesDeleteResponseActionAttemptVisitor interface {
	VisitSuccess(*AccessCodesDeleteResponseActionAttemptSuccess) error
	VisitPending(*AccessCodesDeleteResponseActionAttemptPending) error
	VisitError(*AccessCodesDeleteResponseActionAttemptError) error
}

func (a *AccessCodesDeleteResponseActionAttempt) Accept(v AccessCodesDeleteResponseActionAttemptVisitor) error {
	switch a.Status {
	default:
		return fmt.Errorf("invalid type %s in %T", a.Status, a)
	case "success":
		return v.VisitSuccess(a.Success)
	case "pending":
		return v.VisitPending(a.Pending)
	case "error":
		return v.VisitError(a.Error)
	}
}
