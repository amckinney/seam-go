// This file was auto-generated by Fern from our API Definition.

package api

import (
	json "encoding/json"
	fmt "fmt"
)

type AccessCodesCreateResponseActionAttempt struct {
	Status  string
	Success *AccessCodesCreateResponseActionAttemptSuccess
	Pending *AccessCodesCreateResponseActionAttemptPending
	Error   *AccessCodesCreateResponseActionAttemptError
}

func NewAccessCodesCreateResponseActionAttemptFromSuccess(value *AccessCodesCreateResponseActionAttemptSuccess) *AccessCodesCreateResponseActionAttempt {
	return &AccessCodesCreateResponseActionAttempt{Status: "success", Success: value}
}

func NewAccessCodesCreateResponseActionAttemptFromPending(value *AccessCodesCreateResponseActionAttemptPending) *AccessCodesCreateResponseActionAttempt {
	return &AccessCodesCreateResponseActionAttempt{Status: "pending", Pending: value}
}

func NewAccessCodesCreateResponseActionAttemptFromError(value *AccessCodesCreateResponseActionAttemptError) *AccessCodesCreateResponseActionAttempt {
	return &AccessCodesCreateResponseActionAttempt{Status: "error", Error: value}
}

func (a *AccessCodesCreateResponseActionAttempt) UnmarshalJSON(data []byte) error {
	var unmarshaler struct {
		Status string `json:"status"`
	}
	if err := json.Unmarshal(data, &unmarshaler); err != nil {
		return err
	}
	a.Status = unmarshaler.Status
	switch unmarshaler.Status {
	case "success":
		value := new(AccessCodesCreateResponseActionAttemptSuccess)
		if err := json.Unmarshal(data, &value); err != nil {
			return err
		}
		a.Success = value
	case "pending":
		value := new(AccessCodesCreateResponseActionAttemptPending)
		if err := json.Unmarshal(data, &value); err != nil {
			return err
		}
		a.Pending = value
	case "error":
		value := new(AccessCodesCreateResponseActionAttemptError)
		if err := json.Unmarshal(data, &value); err != nil {
			return err
		}
		a.Error = value
	}
	return nil
}

func (a AccessCodesCreateResponseActionAttempt) MarshalJSON() ([]byte, error) {
	switch a.Status {
	default:
		return nil, fmt.Errorf("invalid type %s in %T", a.Status, a)
	case "success":
		var marshaler = struct {
			Status string `json:"status"`
			*AccessCodesCreateResponseActionAttemptSuccess
		}{
			Status: a.Status,
			AccessCodesCreateResponseActionAttemptSuccess: a.Success,
		}
		return json.Marshal(marshaler)
	case "pending":
		var marshaler = struct {
			Status string `json:"status"`
			*AccessCodesCreateResponseActionAttemptPending
		}{
			Status: a.Status,
			AccessCodesCreateResponseActionAttemptPending: a.Pending,
		}
		return json.Marshal(marshaler)
	case "error":
		var marshaler = struct {
			Status string `json:"status"`
			*AccessCodesCreateResponseActionAttemptError
		}{
			Status: a.Status,
			AccessCodesCreateResponseActionAttemptError: a.Error,
		}
		return json.Marshal(marshaler)
	}
}

type AccessCodesCreateResponseActionAttemptVisitor interface {
	VisitSuccess(*AccessCodesCreateResponseActionAttemptSuccess) error
	VisitPending(*AccessCodesCreateResponseActionAttemptPending) error
	VisitError(*AccessCodesCreateResponseActionAttemptError) error
}

func (a *AccessCodesCreateResponseActionAttempt) Accept(v AccessCodesCreateResponseActionAttemptVisitor) error {
	switch a.Status {
	default:
		return fmt.Errorf("invalid type %s in %T", a.Status, a)
	case "success":
		return v.VisitSuccess(a.Success)
	case "pending":
		return v.VisitPending(a.Pending)
	case "error":
		return v.VisitError(a.Error)
	}
}
